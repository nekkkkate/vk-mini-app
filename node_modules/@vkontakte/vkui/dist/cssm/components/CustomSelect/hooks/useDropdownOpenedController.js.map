{"version":3,"sources":["../../../../../src/components/CustomSelect/hooks/useDropdownOpenedController.ts"],"sourcesContent":["import * as React from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport { useStableCallback } from '../../../hooks/useStableCallback';\nimport { type SelectProps } from '../CustomSelect';\n/* eslint-disable jsdoc/require-jsdoc */\ntype UseDropdownOpenedControllerProps = Pick<SelectProps, 'onOpen' | 'onClose'> & {\n  onOpened?: () => void;\n  onClosed?: () => void;\n};\n/* eslint-enable jsdoc/require-jsdoc */\nexport function useDropdownOpenedController({\n  onClose,\n  onOpen,\n  onOpened,\n  onClosed,\n}: UseDropdownOpenedControllerProps) {\n  const [opened, setOpened] = React.useState(false);\n  const onCloseCb = useStableCallback(onClose || noop);\n  const onOpenCb = useStableCallback(onOpen || noop);\n  const onOpenedCb = useStableCallback(onOpened || noop);\n  const onClosedCb = useStableCallback(onClosed || noop);\n\n  const close = React.useCallback(() => {\n    if (!opened) {\n      return;\n    }\n    setOpened(false);\n    onCloseCb?.();\n  }, [onCloseCb, opened]);\n\n  const open = React.useCallback(() => {\n    if (opened) {\n      return;\n    }\n    setOpened(true);\n    onOpenCb?.();\n  }, [onOpenCb, opened]);\n\n  const toggleOpened = React.useCallback(() => {\n    if (opened) {\n      close();\n    } else {\n      open();\n    }\n  }, [close, open, opened]);\n\n  React.useEffect(() => {\n    if (opened) {\n      onOpenedCb();\n    } else {\n      onClosedCb();\n    }\n  }, [onClosedCb, onOpenedCb, opened]);\n\n  return {\n    opened,\n    open,\n    close,\n    toggleOpened,\n  };\n}\n"],"names":["React","noop","useStableCallback","useDropdownOpenedController","onClose","onOpen","onOpened","onClosed","opened","setOpened","useState","onCloseCb","onOpenCb","onOpenedCb","onClosedCb","close","useCallback","open","toggleOpened","useEffect"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,iBAAiB,QAAQ,sCAAmC;AAOrE,qCAAqC,GACrC,OAAO,SAASC,4BAA4B,EAC1CC,OAAO,EACPC,MAAM,EACNC,QAAQ,EACRC,QAAQ,EACyB;IACjC,MAAM,CAACC,QAAQC,UAAU,GAAGT,MAAMU,QAAQ,CAAC;IAC3C,MAAMC,YAAYT,kBAAkBE,WAAWH;IAC/C,MAAMW,WAAWV,kBAAkBG,UAAUJ;IAC7C,MAAMY,aAAaX,kBAAkBI,YAAYL;IACjD,MAAMa,aAAaZ,kBAAkBK,YAAYN;IAEjD,MAAMc,QAAQf,MAAMgB,WAAW,CAAC;QAC9B,IAAI,CAACR,QAAQ;YACX;QACF;QACAC,UAAU;QACVE;IACF,GAAG;QAACA;QAAWH;KAAO;IAEtB,MAAMS,OAAOjB,MAAMgB,WAAW,CAAC;QAC7B,IAAIR,QAAQ;YACV;QACF;QACAC,UAAU;QACVG;IACF,GAAG;QAACA;QAAUJ;KAAO;IAErB,MAAMU,eAAelB,MAAMgB,WAAW,CAAC;QACrC,IAAIR,QAAQ;YACVO;QACF,OAAO;YACLE;QACF;IACF,GAAG;QAACF;QAAOE;QAAMT;KAAO;IAExBR,MAAMmB,SAAS,CAAC;QACd,IAAIX,QAAQ;YACVK;QACF,OAAO;YACLC;QACF;IACF,GAAG;QAACA;QAAYD;QAAYL;KAAO;IAEnC,OAAO;QACLA;QACAS;QACAF;QACAG;IACF;AACF"}